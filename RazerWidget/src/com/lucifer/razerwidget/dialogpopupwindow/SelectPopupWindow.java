package com.lucifer.razerwidget.dialogpopupwindow;import com.lucifer.razerlib.R;import android.annotation.SuppressLint;import android.app.Activity;import android.content.Context;import android.graphics.drawable.ColorDrawable;import android.view.Gravity;import android.view.LayoutInflater;import android.view.MotionEvent;import android.view.View;import android.view.View.OnClickListener;import android.view.View.OnTouchListener;import android.view.ViewGroup.LayoutParams;import android.widget.PopupWindow;import android.widget.Toast;@SuppressLint("InflateParams")public class SelectPopupWindow{	public static PopupWindow menuWindow;			public static void showPopupWindow(final Activity activity, View view)	{		LayoutInflater inflater = (LayoutInflater) activity				.getSystemService(Context.LAYOUT_INFLATER_SERVICE);		View mView = inflater.inflate(R.layout.popupwindow, null);		menuWindow = new PopupWindow(mView, LayoutParams.MATCH_PARENT,				LayoutParams.MATCH_PARENT);		menuWindow.setFocusable(true);		menuWindow.setBackgroundDrawable(new ColorDrawable(-00000));		menuWindow.setOutsideTouchable(true);		menuWindow.setTouchable(true);		menuWindow.setContentView(mView);		menuWindow.showAtLocation(view, Gravity.LEFT | Gravity.CENTER, 0, 0);		// 监听		mView.findViewById(R.id.btn_weixin_recommend).setOnClickListener(				new OnClickListener()				{					@Override					public void onClick(View v)					{						Toast.makeText(activity.getApplicationContext(), "微信", 1000).show();						menuWindow.dismiss();					}				});		// 监听		mView.findViewById(R.id.btn_weixincircle_recommend).setOnClickListener(				new OnClickListener()				{					@Override					public void onClick(View v)					{						Toast.makeText(activity.getApplicationContext(), "微信朋友圈", 1000).show();						menuWindow.dismiss();					}				});		mView.findViewById(R.id.btn_email_recommend).setOnClickListener(				new OnClickListener()				{					@Override					public void onClick(View v)					{						Toast.makeText(activity.getApplicationContext(), "电子邮件", 1000).show();						menuWindow.dismiss();					}				});		mView.findViewById(R.id.btn_duanxin_recommend).setOnClickListener(				new OnClickListener()				{					@Override					public void onClick(View v)					{						Toast.makeText(activity.getApplicationContext(), "短信", 1000).show();						menuWindow.dismiss();					}				});		mView.findViewById(R.id.btn_cancel_recommend).setOnClickListener(				new OnClickListener()				{					@Override					public void onClick(View v)					{						menuWindow.dismiss();					}				});		menuWindow.setTouchInterceptor(new OnTouchListener()		{			@Override			public boolean onTouch(View arg0, MotionEvent event)			{				// TODO Auto-generated method stub				if (event.getAction() == MotionEvent.ACTION_OUTSIDE)				{					menuWindow.dismiss();					return true;				}				return false;			}		});			}					}